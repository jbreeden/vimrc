call SnippexBootstrap('__END__')

call matchadd("Comment", '^#.*')
call matchadd("Comment", '\v---.*')

setlocal nowrap
setlocal hidden

1;/\v^.*\S/g!/\v.*\S/d

function! b:ExecutePanel()
  ?^---?
  normal! jV
  /^---/
  normal! k"zy
  enew
  
  setlocal bufhidden=hide
  setlocal buftype=nofile
  setlocal noswapfile

  call append(0, split(system(getreg('@z')), "\n"))
  normal gg
endfunction

nnoremap <buffer> <Leader><Space> :silent call b:ExecutePanel()<CR>

let @/ = 'TODO'
execute "normal /TODO:\<CR>va{"
__END__
--- Search --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

# To run search: <Leader><Space>
# (Tip: Put your cursor inside the {TODO...} placeholders
#  and press ca{ to change the search parameters quickly.)

find . -type f -iname '{TODO: file_pattern}' \
| xargs -n 20 grep -Hn -i '{TODO: search_term}' \
| tee ~/.vim/scratch/locations.txt

--- SplunkJS --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

find ~/splunk/source/web/search_mrsparkle/exposed/js \
  -type f \
  \! -path '*/build*/' \
  \! -name '*.min.*' \
  \! -iname '*.js' \
| xargs -n 20 grep -Hn -i '{TODO: search_term}' \
| tee ~/.vim/scratch/locations.txt

-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
